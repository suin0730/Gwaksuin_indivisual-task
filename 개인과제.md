# 서비스 시스템 구성

## Client

### Client란?

- 클라이언트 서버 구성에서 사용자가 서버에 접속하기 위해 사용하는 프로그램, 서비스

#### 웹서버

- HTTP를 통해 웹 브라우저에서 요청하는 HTML 문서나 오브젝트를 전송해주는 서비스 프로그램. 서버 측이 가진다.

##### Apache HTTP Server

- 아파치 소프트웨어 재단에서 관리하는 HTTP 웹 서버이다. BSD, 리눅스 등 유닉스 계열 뿐 아니라 마이크로소프트 윈도우나 노벨 넷웨어 같은 기종에서도 운용할 수 있다.
  - 아파치 소프트웨어 재단 : 아파치 http 서버를 포함한 아파치 소프트웨어를 포함한 아파치 소프트웨어 프로젝트를 지원하는 비영리 재단으로 미국 델라웨어에서 설립되었다.
  - 넷웨어 : 노벨이 개발한 네트워크 운영 체제이다. 초기에는 개인용 컴퓨터에서 여러 사용자들이 다양한 서비스를 이용하기 위해 컴퓨터 멀티태스킹으로 쓰였고, 제록스 네트워크 서비스 스택에 기반을 둔 네트워크 프로토콜을 사용했다.
- 아파치 웹 서버는 세계에서 가장 인기있는 웹 서버이다. 2017년 10월 기준으로 실질적으로 작동하는 웹 사이트(active site)들에서 쓰이는 웹 서버 소프트웨어 순위는 아파치(44.89%), 엔진엑스(20.65%), 구글 웹 서버(7.86%), 마이크로소프트 IIS(7.32%)순이다.

##### Nginx

- 웹서버 소프트웨어로, 가벼움과 높은 성능을 목표로 한다. 웹 서버, 리버스 프록시 및 메일 프록시 기능을 가진다. 
- Nginx는 요청에 응답하기 위해 비동기 이벤트 기반 구조를 가진다. 이러한 구조는 아파치 http 서버의 프로세스 기반 구조를 가지는 것과는 대조적이다.

### 서버사이드 언어

- 웹에서 사용되는 스크립트 언어 중 서버 사이드에서 실행되는 스크립트 언어

#### ASP/ASP.NET

- ASP : 액티브 서버 페이지. 마이크로소프트사에서 동적으로 웹페이지들을 생성하기 위해 개발한 서버 측 스크립트 엔진이다.
- ASP.NET : 마이크로소프트사가 개발하여 판매하는 웹 애플리케이션으로 프로그래머들이 동적인 웹애플리케이션을 만들 수 있게 도와 준다. 2002년 1월에 처음 출시되었으며 마이크로소프트의 ASP기술의 뒤를 잇는다.

#### PHP

- 프로그래밍 언어의 일종이다. 원래는 동적 웹 페이지를 만들기 위해 설계되었으며 이를 구현하기 위해 PHP로 작성된 코드를 HTML 소스 문서 안에 넣으면 PHP 처리 기능이 있는 웹 서버에서 해당 코드를 인식하여 작성자가 원하는 웹 페이지를 생성한다. 
- 1995년 라스무스 러도프가 처음 만든 것
  - 미국 시민권을 가진 그린란드의 프로그래머로 PHP 스크립트 언어를 창시했다.
  - 2002년부터 2009년까지 야후에서 인프라 아키텍쳐 기술자로 일했다. 
  - 스타트업 기업을 위한 상담가로 일하기도 했다.

#### 파이썬

- 프로그래머인 귀도 반 로섬이 발표한 고급 프로그래밍 언어로, 플랫폼 독립적이며 인터프리터식, 객체지향적, 동적 타이핑 대화형 언어이다. 
- 파이썬이라는 이름은 귀도가 좋아하는 코미디 〈Monty Python's Flying Circus〉에서 따온 것이다.

#### 루비

- 마츠모토 유키히로가 개발한 동적 객체 지향 스크립트 프로그래밍 언어이다. 루비는 순수 객체 지향 언어라, 정수나 문자열 등을 포함한 데이터 형식 등 모든 것이 객체이다.
  - 마츠모토 유키히로는 Matz라는 별명을 사용하며 영미권에서는 이 별명이 이름만큼 널리 사용된다

#### 펄

- 래리 월이 만든 인터프리터 방식의 프로그래밍 언어 혹은 그 소프트웨어를 가리킨다. 펄은 고급 언어, 범용 언어, 인터프리터 언어, 동적 언어 범주에 속한다. 
  - 래리 월은 유니시스에서 프로그래머로 일하던 1987년 펄에 대한 작업을 시작하였다.
  - 2000년에 래리 월은 커뮤니티로부터 새로운 버전의 펄에 대한 제안을 해 줄 것을 요청하였다. 이를 통해 361 RFC 문서들이 생성되었고 이 문서들은 펄 6의 개발을 이끌어가는데 사용되었다. 

### ANDROID

- 휴대 전화를 비롯한 휴대용 장치를 위한 운영 체제와 미들웨어, 사용자 인터페이스 그리고 표준 응용 프로그램을 포함하고 있는 소프트웨어 스택이자 모바일 운영 체제이다.
- 안드로이드는 리눅스 커널 위에서 동작하며, 자바와 코틀린으로 앱을 만들어 동작한다. 또한 다양한 안드로이드 시스템 구성 요소에서 사용되는 C/C++ 라이브러리들을 포함하고 있다. 
  -  2005년 7월에 구글은 미국 캘리포니아주의 팔로알토에 위치한 작은 안드로이드사를 인수하였다. 안드로이드사는 앤디 루빈이 세운 업체이다.
    - 앤디 루빈은 미국의 기업인, 투자가, 프로그래머, 공학자이다. 데인저 사(社) 및 안드로이드 사 공동 창립자이자 전직 CEO를 역임하였으며 구글이 안드로이드 사를 인수한 후 구글의 모바일 부문 수석 부사장으로 일하며 안드로이드 소프트웨어 플랫폼을 비롯한 그것을 이용한 휴대 전화의 개발 업무를 관장하였다. 2014년에 구글에서 퇴사 후 에센셜 사를 창립하였다.
  - 2005년 안드로이드 사를 구글에서 인수한 후 2007년에 안드로이드 플랫폼을 휴대용 장치 운영체제로서 무료 공개한다고 발표했다.
  - 구글은 안드로이드의 모든 소스 코드를 오픈 소스 라이선스로 배포하고 있어 기업이나 사용자는 각자 안드로이드 프로그램을 독자적으로 개발을 해서 탑재할 수 있다.
  - 등록한 개발자들이 소비자에게 응용 프로그램을 판매할 수 있도록 구글 플레이 스토어를 제공하고 있다.

### IOS

애플의 모바일 운영 체제로, 이름만 같은 시스코의 ios와는 구분된다.

iOS는 2007년 아이폰, 아이팟, 아이패드 등을 위한 운영체제로서 공개되었다. 처음 공개되었을 당시에는 사용자가 개발한 애플리케이션의 추가가 허용되지 않았었으나, 2008년 6월 이후 iOS에서 소프트웨어를 개발할 수 있는 도구인 SDK가 공개되어 애플의 앱 스토어를 통해 자유롭게 사용자 애플리케이션을 공개하고 판매할 수 있게 되었다.

- 애플은 미국의 소프트웨어 및 컴퓨터 하드웨어를 제작, 개발하는 회사이다.  팀 쿡을 최고경영자로 두고 있다.

### '줍다보니 동물원'에의 적용

- ‘줍다보니 동물원’의 경우 ios를 client로 선정하였다. 
- ios의 경우 애플의 기기에 탑재되기 위해 만들어진 os로 하드웨어와 긴밀하게 연관되어 있다. 
- 안드로이드의 경우 표준이 없고 cpu종류, ram용량, 해상도가 천차만별이므로 개발과정에서 기술, 시간, 비용상의 문제가 생긴다. 안드로이드 시장이 광대하긴 하지만 ios가 1달러의 수익을 올릴 때 안드로이드는 0.24달러를 올리므로 수익상의 문제는 여전히 존재한다. 
- 따라서 긴 개발기간과 높은 개발비용을 안고가기보다 ios를 사용해 안정적이고 호환성이 높은 애플리케이션을 제공하기로 결정했다.



## Server

### Server란?

- 클라이언트 네트워크를 통해 서비스하는 컴퓨터로 접속량에 따라 위험도가 높아지기 때문에 서비스 규모에 따라 선정한다.

### 클라우드 서비스

- 모바일 게임의 경우 서비스 초기의 피크타임 이후 유저가 이탈했을 때 수익상의  차이가 크기 때문에 클라우드 서비스를 이용해 사용시간, 사용 트래픽만큼 과금되는 서비스를 이용하는 것이 좋다. 
- 클라우드 서버는 트래픽에 따라 서버를 늘릴 수 있고 필요한 경우 서버리스 아키텍쳐를 사용해 극단적인 비용절감이 사능하다.

#### AWS

- Amazon Web Service, 클라우드 서비스를 제공한다.
- 다른 웹서비스나 클라이언트 측 응용 프로그램에 대해 온라인 서비스를 제공하고 있다. 이러한 서비스의 상당수는 최종 사용자에게 제공되는 것이 아니고, 다른 개발자가 사용 가능한 기능을 제공하는 플랫폼인 PaaS이다.
  - PaaS는 클라우드 컴퓨팅 서비스 분류 중 하나다. 일반적으로 앱을 개발하거나 구현할 때, 관련 인프라를 만들고 유지보수하는 복잡함 없이 앱을 개발, 실행, 관리할 수 있게 하는 플랫폼을 제공한다.

#### AZURE

- 윈도우 애저는 2010년 시작된 마이크로소프트의 클라우드 컴퓨팅 플랫폼이다. 2011년 PaaS에 이어 2013년 IaaS 서비스를 시작하였다. 아마존 웹 서비스 등과 경쟁하고 있다.
- 클라우드 시장 1위인 AWS와 비교했을 떄 점유율 차이가 한참 나는 2위이지만 그와 상관없이 수익성 및 시장 내 입지가 매우 확실하여 시장의 양강 체제를 구축하고 있다. 
  - IaaS는 서비스로서의 인프라스트럭쳐로 서버, 스토리지, 네트워크를 가상화 환경으로 만들어 필요에 따라 인프라 자원을 사용할 수 있게 서비스를 제공하는 형태이다.

### 서버리스 아키텍쳐

- 서버는 안정성, 관리유지의 용이성과 신속성이 중요하다. 이를 충족시키기 위해 경험이 누적되어 만들어진 프론트엔드 서버, 메모리그리드서버 등이 분산서버설계 패턴으로 도출되었다. 
- 우리 앱에 필요한 비즈니스 로직에 미리 설계 및 구현된 패턴을 만들어 넣기만 하면 되는데 이를 서버리스 아키텍쳐라 한다. 
- 서버 프로그래머는 함수 서비스에 함수를 구현하고 필요한 만큼의 캐시 서비스를 예약한 뒤 데이터베이스 서비스에 들어갈 데이터 구조를 정의하기만 하면 된다. 
  - 이렇게 할 시 해킹보안방어가 유리하고 성능튜닝이 용이하다는 장점이 있다. 
  - 소프트웨어 서비스 개발에서 시간 단축은 돈과 직결되기 때문에 위 방법이 적합하다.
  - 모든 소스코드가 사업자로부터 확보되며 서비스 자체가 일반 클라우드 서버보다 싸기 때문에 '줍다보니 동물원'에 채택했다.

## Cache

### Cache란?

- 컴퓨터 시스템 성능향상을 위한 메모리.
- 대부분 프로그램은 높은 데이터 지역성을 가지기 때문에 메인 메모리에 있는 데이터를 캐시 메모리에 불러오고 cpu가 필요한 데이터를 캐시에서 먼저 찾도록 하면 시스템 성능을 향상시킬 수 있다.

### '줍다보니 동물원'에의 적용

- ‘줍다보니 동물원’의 경우 실시간 계산이 들어가는 게임으로 각 턴별의 점수 합만 계산해 놓으면 그 최종값만 플레이 한 판에 적용되어 승패가 나뉜다.
- 중간과정을 캐시로 처리해 d-ram에 넣어주면 효율적일 것이다. 
- 턴제게임의 특성상 쓰일 메모리의 공간이 한정적이기 때문에 예측하여 옆 주소를 가져올 수 있다. 
- 또한 캐시미스가 날 확률이 적기 때문에 사용시 적당하다고 할 수 있다.

## Database

### Database란?

- 여러 사람에 의해 공유되어 사용될 목적으로 통합해 관리되는 데이터의 집합. 특정 다수의 이용자들에게 필요한 정보를 제공하던지 조직 내에서 필요한 정보를 체계적으로 축적하여 이용자에게 필요한 서비스를 제공한다.

### 관계형 데이터 모델

- 데이터를 일종의 표형태로 저장하고 컬럼의 구조와 데이터의 관계가 테이블 스키마로 정의된다.
- 역사가 긴 만큼 가장 신뢰성이 높고 데이터의 분류, 정렬, 탐색 속도가 빠르다. 
- 스키마를 수정하기가 어렵고 데이터가 2차원 표형태로만 출력되기 때문에 트리 구조로 조직화되는 객체들과 궁합이 잘 맞지 않는다. 

### 키값형 데이터 모델

- 모든 데이터를 키(Key)와 값(Value)의 쌍으로 매핑한다. Key를 어떻게 인덱싱했느냐에 따라 다르지만 보통 특정 값 하나를 찾아내는 데에는 가장 뛰어난 성능을 보인다. 하지만 데이터를 그룹화하고 정렬하는 기능은 없다시피하다. 대신 RDBMS에 비해 가볍고, 빠르고, 다루기 쉽다.
- 1차원 데이터만 다룰 수 있을 것 같이 생겼지만 Value에 넣을 수 있는 값이 자기 자신의 Key를 포함하여 Any object이기 때문에 대부분의 데이터를 다룰 수 있다. 

### 객체형 데이터 모델

- 프로그래밍 언어에서 객체지향의 개념이 포함되었듯이, 관계형 데이터베이스 이후, 데이터베이스에서도 객체지향을 구현한 것이 바로 객체형 데이터베이스이다. 이러한 DBMS를 ODBMS라고 한다.

### 문서형 데이터 모델

- 문서의 구조를 나타내는 스키마가 필수가 아닌 것이 특징이다.
  스키마가 없기 때문에 인덱스 필드를 제외하고 필드를 마음대로 넣거나 뺄 수 있다. 기존 데이터에 해당 필드가 있든 없든 상관없고 그런 데이터를 상대로도 조회, 그룹핑 등의 작업이 가능하다.
- 객체 지향 프로그래밍이 주류인 현재, 데이터를 따로 매핑할 필요 없이 그냥 집어넣으면 알아서 잘 저장되는 객체형, 문서형 데이터베이스가 주목받고 있다.
  - 문서형 데이터 모델을 사용하는 Mongo db는 NoSQL  DBMS의 한 종류이다.

### SQL

- 관계형 데이터베이스 관이 시스템의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어
- 관계형 데이터베이스 관리 시스템에서 자료의 검색과 관리, 데이터베이스 스키마 생성과 수정, 데이터베이스 객체 접근 조정 관리를 위해 고안되었다. 많은 수의 데이터베이스 관련 프로그램들이 SQL을 표준으로 채택하고 있다.
  - SQL은 IBM에서 1970년대 초에 도널드 D. 챔벌린과 레이먼드 F. 보이스가 처음 개발하였다. 초기에는 SEQUEL라는 이름으로 시작하였으며, IBM의 준 관계형 데이터베이스 관리 시스템 시스템 R에 저장된 데이터를 조작하고 수신하기 위해 고안되었다.
  -  SEQUEL은 나중에 SQL로 바뀌었는데, 그 까닭은 SEQUEL이 영국의 호커 시들리 항공사의 상표였기 때문이다.
- MYSQL
  - 데이터를 저장, 액세스하는 스토리지 엔진과 sql파서를 따로 분리해 용도에 따라 사용할 수 있는 멀티 스토리지 엔진 방식을 적용한다. 엔진은 my isam, innodb등이 사용되는데, 전자는 단순하고 데이터셀렉트 속도가 빠르고 후자는 데이터베이스에서 한번에 수행되는 연산에 대한 안정성을 나타내는 transaction이 보장된다.
- MARIA DB
  - mysql의 불확실한 라이선스 문제를 해결하는 오픈소스 dbms이다. 초기에는 mysql의 개발 방향을 따라갔으나 10.2버전부터는 개발 속도를 앞서나가며 점유율이 높아졌다.